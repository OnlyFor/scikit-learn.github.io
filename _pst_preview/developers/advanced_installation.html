
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Installing the development version of scikit-learn" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://scikit-learn/stable/developers/advanced_installation.html" />
<meta property="og:site_name" content="scikit-learn" />
<meta property="og:description" content="This section introduces how to install the main branch of scikit-learn. This can be done by either installing a nightly build or building from source. Installing nightly builds: The continuous inte..." />
<meta property="og:image" content="https://scikit-learn/stable/_images/visual-studio-build-tools-selection.png" />
<meta property="og:image:alt" content="scikit-learn" />
<meta name="description" content="This section introduces how to install the main branch of scikit-learn. This can be done by either installing a nightly build or building from source. Installing nightly builds: The continuous inte..." />

    <title>Installing the development version of scikit-learn &#8212; scikit-learn 1.5.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Vibur" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyterlite_sphinx.css?v=ca70e7f1" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/colors.css?v=cc94ab7d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/custom.css?v=42c874f8" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=a2c36881"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=97f0b27d"></script>
    <script src="../_static/jupyterlite_sphinx.js?v=d6bdf5f8"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script data-domain="scikit-learn.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'developers/advanced_installation';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scikit-learn.org/_pst_preview/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.5.dev0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <script src="../_static/scripts/dropdown.js?v=12d599f8"></script>
    <script src="../_static/scripts/version-switcher.js?v=a6dd8357"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bug triaging and issue curation" href="bug_triaging.html" />
    <link rel="prev" title="Cython Best Practices, Conventions and Knowledge" href="cython.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/scikit-learn-logo-small.png" class="logo__image only-light" alt="scikit-learn homepage"/>
    <script>document.write(`<img src="../_static/scikit-learn-logo-small.png" class="logo__image only-dark" alt="scikit-learn homepage"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
                        Community
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../getting_started.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../tutorial/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../whats_new.html">
                        Release History
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link dropdown-item nav-internal" href="index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../support.html">
                        Support
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../related_projects.html">
                        Related Projects
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../roadmap.html">
                        Roadmap
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../governance.html">
                        Governance
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../about.html">
                        About us
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../api/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://blog.scikit-learn.org/">
                        Community
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../getting_started.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../tutorial/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../whats_new.html">
                        Release History
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link dropdown-item nav-internal" href="index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../support.html">
                        Support
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../related_projects.html">
                        Related Projects
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../roadmap.html">
                        Roadmap
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../governance.html">
                        Governance
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../about.html">
                        About us
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scikit-learn/scikit-learn" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="minimal_reproducer.html">Crafting a minimal reproducer for scikit-learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Developing scikit-learn estimators</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Developers’ Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">How to optimize for speed</a></li>
<li class="toctree-l1"><a class="reference internal" href="cython.html">Cython Best Practices, Conventions and Knowledge</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Installing the development version of scikit-learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug_triaging.html">Bug triaging and issue curation</a></li>
<li class="toctree-l1"><a class="reference internal" href="maintainer.html">Maintainer / core-developer information</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Developing with the Plotting API</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Developer’s Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Installing...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <span class="target" id="advanced-installation"></span><section id="installing-the-development-version-of-scikit-learn">
<h1>Installing the development version of scikit-learn<a class="headerlink" href="#installing-the-development-version-of-scikit-learn" title="Link to this heading">#</a></h1>
<p>This section introduces how to install the <strong>main branch</strong> of scikit-learn.
This can be done by either installing a nightly build or building from source.</p>
<section id="installing-nightly-builds">
<span id="install-nightly-builds"></span><h2>Installing nightly builds<a class="headerlink" href="#installing-nightly-builds" title="Link to this heading">#</a></h2>
<p>The continuous integration servers of the scikit-learn project build, test
and upload wheel packages for the most recent Python version on a nightly
basis.</p>
<p>Installing a nightly build is the quickest way to:</p>
<ul class="simple">
<li><p>try a new feature that will be shipped in the next release (that is, a
feature from a pull-request that was recently merged to the main branch);</p></li>
<li><p>check whether a bug you encountered has been fixed since the last release.</p></li>
</ul>
<p>You can install the nightly build of scikit-learn using the <code class="docutils literal notranslate"><span class="pre">scientific-python-nightly-wheels</span></code>
index from the PyPI registry of <code class="docutils literal notranslate"><span class="pre">anaconda.org</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>--pre<span class="w"> </span>--extra-index<span class="w"> </span>https://pypi.anaconda.org/scientific-python-nightly-wheels/simple<span class="w"> </span>scikit-learn</span>
</pre></div></div><p>Note that first uninstalling scikit-learn might be required to be able to
install nightly builds of scikit-learn.</p>
</section>
<section id="building-from-source">
<span id="install-bleeding-edge"></span><h2>Building from source<a class="headerlink" href="#building-from-source" title="Link to this heading">#</a></h2>
<p>Building from source is required to work on a contribution (bug fix, new
feature, code or documentation improvement).</p>
<ol class="arabic" id="git-repo">
<li><p>Use <a class="reference external" href="https://git-scm.com/">Git</a> to check out the latest source from the
<a class="reference external" href="https://github.com/scikit-learn/scikit-learn">scikit-learn repository</a> on
Github.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">git<span class="w"> </span>clone<span class="w"> </span>git://github.com/scikit-learn/scikit-learn.git<span class="w">  </span><span class="c1"># add --depth 1 if your connection is slow</span></span>
<span class="prompt1"><span class="nb">cd</span><span class="w"> </span>scikit-learn</span>
</pre></div></div><p>If you plan on submitting a pull-request, you should clone from your fork
instead.</p>
</li>
<li><p>Install a recent version of Python (3.9 is recommended at the time of writing)
for instance using <a class="reference external" href="https://github.com/conda-forge/miniforge#miniforge3">Miniforge3</a>. Miniforge provides a conda-based distribution
of Python and the most popular scientific libraries.</p>
<p>If you installed Python with conda, we recommend to create a dedicated
<a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">conda environment</a> with all the build dependencies of scikit-learn
(namely <a class="reference external" href="https://numpy.org">NumPy</a>, <a class="reference external" href="https://www.scipy.org">SciPy</a>, and <a class="reference external" href="https://cython.org">Cython</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>sklearn-env<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>cython</span>
</pre></div></div><p>It is not always necessary but it is safer to open a new prompt before
activating the newly created conda environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>activate<span class="w"> </span>sklearn-env</span>
</pre></div></div></li>
<li><p><strong>Alternative to conda:</strong> If you run Linux or similar, you can instead use
your system’s Python provided it is recent enough (3.8 or higher
at the time of writing). In this case, we recommend to create a dedicated
<a class="reference external" href="https://docs.python.org/3/tutorial/venv.html">virtualenv</a> and install the scikit-learn build dependencies with pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>sklearn-env</span>
<span class="prompt1"><span class="nb">source</span><span class="w"> </span>sklearn-env/bin/activate</span>
<span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>wheel<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>cython</span>
</pre></div></div></li>
<li><p>Install a compiler with <a class="reference external" href="https://en.wikipedia.org/wiki/OpenMP">OpenMP</a> support for your platform. See instructions
for <a class="reference internal" href="#compiler-windows"><span class="std std-ref">Windows</span></a>, <a class="reference internal" href="#compiler-macos"><span class="std std-ref">macOS</span></a>, <a class="reference internal" href="#compiler-linux"><span class="std std-ref">Linux</span></a>
and <a class="reference internal" href="#compiler-freebsd"><span class="std std-ref">FreeBSD</span></a>.</p></li>
<li><p>Build the project with pip in <a class="reference internal" href="#editable-mode"><span class="std std-ref">Editable mode</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>--no-use-pep517<span class="w"> </span>--no-build-isolation<span class="w"> </span>-e<span class="w"> </span>.</span>
</pre></div></div></li>
<li><p>Check that the installed scikit-learn has a version number ending with
<code class="docutils literal notranslate"><span class="pre">.dev0</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import sklearn; sklearn.show_versions()&quot;</span></span>
</pre></div></div></li>
<li><p>Please refer to the <a class="reference internal" href="index.html#developers-guide"><span class="std std-ref">Developer’s Guide</span></a> and <a class="reference internal" href="tips.html#pytest-tips"><span class="std std-ref">Useful pytest aliases and flags</span></a> to run
the tests on the module of your choice.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will have to run the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-v</span> <span class="pre">--no-use-pep517</span> <span class="pre">--no-build-isolation</span> <span class="pre">-e</span> <span class="pre">.</span></code>
command every time the source code of a Cython file is updated
(ending in <code class="docutils literal notranslate"><span class="pre">.pyx</span></code> or <code class="docutils literal notranslate"><span class="pre">.pxd</span></code>). This can happen when you edit them or when you
use certain git commands such as <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>. Use the <code class="docutils literal notranslate"><span class="pre">--no-build-isolation</span></code> flag
to avoid compiling the whole project each time, only the files you have
modified. Include the <code class="docutils literal notranslate"><span class="pre">--no-use-pep517</span></code> flag because the <code class="docutils literal notranslate"><span class="pre">--no-build-isolation</span></code>
option might not work otherwise (this is due to a bug which will be fixed in the
future).</p>
</div>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">#</a></h3>
<section id="runtime-dependencies">
<h4>Runtime dependencies<a class="headerlink" href="#runtime-dependencies" title="Link to this heading">#</a></h4>
<p>Scikit-learn requires the following dependencies both at build time and at
runtime:</p>
<ul class="simple">
<li><p>Python (&gt;= 3.8),</p></li>
<li><p>NumPy (&gt;= 1.19.5),</p></li>
<li><p>SciPy (&gt;= 1.6.0),</p></li>
<li><p>Joblib (&gt;= 1.2.0),</p></li>
<li><p>threadpoolctl (&gt;= 2.0.0).</p></li>
</ul>
</section>
<section id="build-dependencies">
<h4>Build dependencies<a class="headerlink" href="#build-dependencies" title="Link to this heading">#</a></h4>
<p>Building Scikit-learn also requires:</p>
<ul class="simple">
<li><p>Cython &gt;= 3.0.8</p></li>
<li><p>A C/C++ compiler and a matching <a class="reference external" href="https://en.wikipedia.org/wiki/OpenMP">OpenMP</a> runtime library. See the
<a class="reference internal" href="#platform-specific-instructions"><span class="std std-ref">platform system specific instructions</span></a> for more details.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If OpenMP is not supported by the compiler, the build will be done with
OpenMP functionalities disabled. This is not recommended since it will force
some estimators to run in sequential mode instead of leveraging thread-based
parallelism. Setting the <code class="docutils literal notranslate"><span class="pre">SKLEARN_FAIL_NO_OPENMP</span></code> environment variable
(before cythonization) will force the build to fail if OpenMP is not
supported.</p>
</div>
<p>Since version 0.21, scikit-learn automatically detects and uses the linear
algebra library used by SciPy <strong>at runtime</strong>. Scikit-learn has therefore no
build dependency on BLAS/LAPACK implementations such as OpenBlas, Atlas, Blis
or MKL.</p>
</section>
<section id="test-dependencies">
<h4>Test dependencies<a class="headerlink" href="#test-dependencies" title="Link to this heading">#</a></h4>
<p>Running tests requires:</p>
<ul class="simple">
<li><p>pytest &gt;= 7.1.2</p></li>
</ul>
<p>Some tests also require <a class="reference external" href="https://pandas.pydata.org">pandas</a>.</p>
</section>
</section>
<section id="building-a-specific-version-from-a-tag">
<h3>Building a specific version from a tag<a class="headerlink" href="#building-a-specific-version-from-a-tag" title="Link to this heading">#</a></h3>
<p>If you want to build a stable version, you can <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;VERSION&gt;</span></code>
to get the code for that particular version, or download an zip archive of
the version from github.</p>
</section>
<section id="editable-mode">
<span id="id1"></span><h3>Editable mode<a class="headerlink" href="#editable-mode" title="Link to this heading">#</a></h3>
<p>If you run the development version, it is cumbersome to reinstall the package
each time you update the sources. Therefore it is recommended that you install
in with the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-v</span> <span class="pre">--no-use-pep517</span> <span class="pre">--no-build-isolation</span> <span class="pre">-e</span> <span class="pre">.</span></code> command,
which allows you to edit the code in-place. This builds the extension in place and
creates a link to the development directory (see <a class="reference external" href="https://pip.pypa.io/en/stable/topics/local-project-installs/#editable-installs">the pip docs</a>).</p>
<p>As the doc above explains, this is fundamentally similar to using the command
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>. (see <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/development_mode.html">the setuptool docs</a>).
It is however preferred to use pip.</p>
<p>On Unix-like systems, you can equivalently type <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">in</span></code> from the top-level
folder. Have a look at the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> for additional utilities.</p>
</section>
<section id="building-with-meson">
<span id="id2"></span><h3>Building with Meson<a class="headerlink" href="#building-with-meson" title="Link to this heading">#</a></h3>
<p>Support for Meson is experimental, in scikit-learn 1.5.0.dev0.
<a class="reference external" href="https://github.com/scikit-learn/scikit-learn/issues/new">Open an issue</a> if
you encounter any problems!</p>
<p>Make sure you have <code class="docutils literal notranslate"><span class="pre">meson-python</span></code> and <code class="docutils literal notranslate"><span class="pre">ninja</span></code> installed, either with <code class="docutils literal notranslate"><span class="pre">conda</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>meson-python<span class="w"> </span>ninja<span class="w"> </span>-y
</pre></div>
</div>
<p>or with pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>meson-python<span class="w"> </span>ninja
</pre></div>
</div>
<section id="simplest-way-to-build-with-meson">
<h4>Simplest way to build with Meson<a class="headerlink" href="#simplest-way-to-build-with-meson" title="Link to this heading">#</a></h4>
<p>To build scikit-learn, the simplest way is to run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>dev-meson
</pre></div>
</div>
<p>You need to do it once after this you can run your code that imports <code class="docutils literal notranslate"><span class="pre">sklearn</span></code>
and it will recompile as needed.</p>
<p>In case you want to go back to using setuptools:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>clean-meson
</pre></div>
</div>
</section>
<section id="more-advanced-way-to-build-with-meson">
<h4>More advanced way to build with Meson<a class="headerlink" href="#more-advanced-way-to-build-with-meson" title="Link to this heading">#</a></h4>
<p>If you can not use <code class="docutils literal notranslate"><span class="pre">make</span></code>, want to do it yourself or understand what goes in
behind the scenes, you can edit <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> and make sure <code class="docutils literal notranslate"><span class="pre">build-backend</span></code>
is set to <code class="docutils literal notranslate"><span class="pre">&quot;mesonpy&quot;</span></code></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[build-system]</span>
<span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;mesonpy&quot;</span>
</pre></div>
</div>
<p>Build with the following <code class="docutils literal notranslate"><span class="pre">pip</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--editable<span class="w"> </span>.<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--verbose<span class="w"> </span>--no-build-isolation<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--config-settings<span class="w"> </span>editable-verbose<span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
<p>If you want to go back to using <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>uninstall<span class="w"> </span>-y<span class="w"> </span>scikit-learn
</pre></div>
</div>
<p>Note <code class="docutils literal notranslate"><span class="pre">--config-settings</span> <span class="pre">editable-verbose=true</span></code> is advised to avoid surprises.
meson-python implements editable install by recompiling when doing <code class="docutils literal notranslate"><span class="pre">import</span>
<span class="pre">sklearn</span></code>. Even changing python files involves copying files to the Meson build
directory. You will see the meson output when that happens, rather than
potentially waiting a while and wondering what is taking so long. Bonus: that
means you only have to do the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> once, after that your code will
recompile when doing <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">sklearn</span></code>.</p>
<p>Other places that may be worth looking at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/development/contributing_environment.html#step-3-build-and-install-pandas">pandas setup doc</a>:
pandas has a similar setup as ours (no spin or dev.py)</p></li>
<li><p><a class="reference external" href="https://scipy.github.io/devdocs/building/understanding_meson.html">scipy Meson doc</a> gives
more background about how Meson works behind the scenes</p></li>
</ul>
</section>
</section>
</section>
<section id="platform-specific-instructions">
<span id="id3"></span><h2>Platform-specific instructions<a class="headerlink" href="#platform-specific-instructions" title="Link to this heading">#</a></h2>
<p>Here are instructions to install a working C/C++ compiler with OpenMP support
to build scikit-learn Cython extensions for each supported platform.</p>
<section id="windows">
<span id="compiler-windows"></span><h3>Windows<a class="headerlink" href="#windows" title="Link to this heading">#</a></h3>
<p>First, download the <a class="reference external" href="https://aka.ms/vs/17/release/vs_buildtools.exe">Build Tools for Visual Studio 2019 installer</a>.</p>
<p>Run the downloaded <code class="docutils literal notranslate"><span class="pre">vs_buildtools.exe</span></code> file, during the installation you will
need to make sure you select “Desktop development with C++”, similarly to this
screenshot:</p>
<img alt="../_images/visual-studio-build-tools-selection.png" src="../_images/visual-studio-build-tools-selection.png" />
<p>Secondly, find out if you are running 64-bit or 32-bit Python. The building
command depends on the architecture of the Python interpreter. You can check
the architecture by running the following in <code class="docutils literal notranslate"><span class="pre">cmd</span></code> or <code class="docutils literal notranslate"><span class="pre">powershell</span></code>
console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import struct; print(struct.calcsize(&#39;P&#39;) * 8)&quot;</span></span>
</pre></div></div><p>For 64-bit Python, configure the build environment by running the following
commands in <code class="docutils literal notranslate"><span class="pre">cmd</span></code> or an Anaconda Prompt (if you use Anaconda):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt2:before {
  content: "C:\> ";
}
</style><span class="prompt2">SET<span class="w"> </span><span class="nv">DISTUTILS_USE_SDK</span><span class="o">=</span><span class="m">1</span></span>
<span class="prompt2"><span class="s2">&quot;C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\VC\Auxiliary\Build\vcvarsall.bat&quot;</span><span class="w"> </span>x64</span>
</pre></div></div><p>Replace <code class="docutils literal notranslate"><span class="pre">x64</span></code> by <code class="docutils literal notranslate"><span class="pre">x86</span></code> to build for 32-bit Python.</p>
<p>Please be aware that the path above might be different from user to user. The
aim is to point to the “vcvarsall.bat” file that will set the necessary
environment variables in the current command prompt.</p>
<p>Finally, build scikit-learn from this command prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>--no-use-pep517<span class="w"> </span>--no-build-isolation<span class="w"> </span>-e<span class="w"> </span>.</span>
</pre></div></div></section>
<section id="macos">
<span id="compiler-macos"></span><h3>macOS<a class="headerlink" href="#macos" title="Link to this heading">#</a></h3>
<p>The default C compiler on macOS, Apple clang (confusingly aliased as
<code class="docutils literal notranslate"><span class="pre">/usr/bin/gcc</span></code>), does not directly support OpenMP. We present two alternatives
to enable OpenMP support:</p>
<ul class="simple">
<li><p>either install <code class="docutils literal notranslate"><span class="pre">conda-forge::compilers</span></code> with conda;</p></li>
<li><p>or install <code class="docutils literal notranslate"><span class="pre">libomp</span></code> with Homebrew to extend the default Apple clang compiler.</p></li>
</ul>
<p>For Apple Silicon M1 hardware, only the conda-forge method below is known to
work at the time of writing (January 2021). You can install the <code class="docutils literal notranslate"><span class="pre">macos/arm64</span></code>
distribution of conda using the <a class="reference external" href="https://github.com/conda-forge/miniforge#miniforge">miniforge installer</a></p>
<section id="macos-compilers-from-conda-forge">
<h4>macOS compilers from conda-forge<a class="headerlink" href="#macos-compilers-from-conda-forge" title="Link to this heading">#</a></h4>
<p>If you use the conda package manager (version &gt;= 4.7), you can install the
<code class="docutils literal notranslate"><span class="pre">compilers</span></code> meta-package from the conda-forge channel, which provides
OpenMP-enabled C/C++ compilers based on the llvm toolchain.</p>
<p>First install the macOS command line tools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">xcode-select<span class="w"> </span>--install</span>
</pre></div></div><p>It is recommended to use a dedicated <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">conda environment</a> to build
scikit-learn from source:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>sklearn-dev<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>python<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>cython<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>joblib<span class="w"> </span>threadpoolctl<span class="w"> </span>pytest<span class="w"> </span>compilers<span class="w"> </span>llvm-openmp</span>
</pre></div></div><p>It is not always necessary but it is safer to open a new prompt before
activating the newly created conda environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>activate<span class="w"> </span>sklearn-dev</span>
<span class="prompt1">make<span class="w"> </span>clean</span>
<span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>--no-use-pep517<span class="w"> </span>--no-build-isolation<span class="w"> </span>-e<span class="w"> </span>.</span>
</pre></div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you get any conflicting dependency error message, try commenting out
any custom conda configuration in the <code class="docutils literal notranslate"><span class="pre">$HOME/.condarc</span></code> file. In
particular the <code class="docutils literal notranslate"><span class="pre">channel_priority:</span> <span class="pre">strict</span></code> directive is known to cause
problems for this setup.</p>
</div>
<p>You can check that the custom compilers are properly installed from conda
forge using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>list</span>
</pre></div></div><p>which should include <code class="docutils literal notranslate"><span class="pre">compilers</span></code> and <code class="docutils literal notranslate"><span class="pre">llvm-openmp</span></code>.</p>
<p>The compilers meta-package will automatically set custom environment
variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">echo</span><span class="w"> </span><span class="nv">$CC</span></span>
<span class="prompt1"><span class="nb">echo</span><span class="w"> </span><span class="nv">$CXX</span></span>
<span class="prompt1"><span class="nb">echo</span><span class="w"> </span><span class="nv">$CFLAGS</span></span>
<span class="prompt1"><span class="nb">echo</span><span class="w"> </span><span class="nv">$CXXFLAGS</span></span>
<span class="prompt1"><span class="nb">echo</span><span class="w"> </span><span class="nv">$LDFLAGS</span></span>
</pre></div></div><p>They point to files and folders from your <code class="docutils literal notranslate"><span class="pre">sklearn-dev</span></code> conda environment
(in particular in the bin/, include/ and lib/ subfolders). For instance
<code class="docutils literal notranslate"><span class="pre">-L/path/to/conda/envs/sklearn-dev/lib</span></code> should appear in <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>.</p>
<p>In the log, you should see the compiled extension being built with the clang
and clang++ compilers installed by conda with the <code class="docutils literal notranslate"><span class="pre">-fopenmp</span></code> command line
flag.</p>
</section>
<section id="macos-compilers-from-homebrew">
<h4>macOS compilers from Homebrew<a class="headerlink" href="#macos-compilers-from-homebrew" title="Link to this heading">#</a></h4>
<p>Another solution is to enable OpenMP support for the clang compiler shipped
by default on macOS.</p>
<p>First install the macOS command line tools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">xcode-select<span class="w"> </span>--install</span>
</pre></div></div><p>Install the <a class="reference external" href="https://brew.sh">Homebrew</a> package manager for macOS.</p>
<p>Install the LLVM OpenMP library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">brew<span class="w"> </span>install<span class="w"> </span>libomp</span>
</pre></div></div><p>Set the following environment variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CC</span><span class="o">=</span>/usr/bin/clang</span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CXX</span><span class="o">=</span>/usr/bin/clang++</span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$CPPFLAGS</span><span class="s2"> -Xpreprocessor -fopenmp&quot;</span></span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$CFLAGS</span><span class="s2"> -I/usr/local/opt/libomp/include&quot;</span></span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$CXXFLAGS</span><span class="s2"> -I/usr/local/opt/libomp/include&quot;</span></span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$LDFLAGS</span><span class="s2"> -Wl,-rpath,/usr/local/opt/libomp/lib -L/usr/local/opt/libomp/lib -lomp&quot;</span></span>
</pre></div></div><p>Finally, build scikit-learn in verbose mode (to check for the presence of the
<code class="docutils literal notranslate"><span class="pre">-fopenmp</span></code> flag in the compiler commands):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">make<span class="w"> </span>clean</span>
<span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>--no-use-pep517<span class="w"> </span>--no-build-isolation<span class="w"> </span>-e<span class="w"> </span>.</span>
</pre></div></div></section>
</section>
<section id="linux">
<span id="compiler-linux"></span><h3>Linux<a class="headerlink" href="#linux" title="Link to this heading">#</a></h3>
<section id="linux-compilers-from-the-system">
<h4>Linux compilers from the system<a class="headerlink" href="#linux-compilers-from-the-system" title="Link to this heading">#</a></h4>
<p>Installing scikit-learn from source without using conda requires you to have
installed the scikit-learn Python development headers and a working C/C++
compiler with OpenMP support (typically the GCC toolchain).</p>
<p>Install build dependencies for Debian-based operating systems, e.g.
Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>build-essential<span class="w"> </span>python3-dev<span class="w"> </span>python3-pip</span>
</pre></div></div><p>then proceed as usual:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">pip3<span class="w"> </span>install<span class="w"> </span>cython</span>
<span class="prompt1">pip3<span class="w"> </span>install<span class="w"> </span>--verbose<span class="w"> </span>--editable<span class="w"> </span>.</span>
</pre></div></div><p>Cython and the pre-compiled wheels for the runtime dependencies (numpy, scipy
and joblib) should automatically be installed in
<code class="docutils literal notranslate"><span class="pre">$HOME/.local/lib/pythonX.Y/site-packages</span></code>. Alternatively you can run the
above commands from a <a class="reference external" href="https://docs.python.org/3/tutorial/venv.html">virtualenv</a> or a <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">conda environment</a> to get full
isolation from the Python packages installed via the system packager. When
using an isolated environment, <code class="docutils literal notranslate"><span class="pre">pip3</span></code> should be replaced by <code class="docutils literal notranslate"><span class="pre">pip</span></code> in the
above commands.</p>
<p>When precompiled wheels of the runtime dependencies are not available for your
architecture (e.g. ARM), you can install the system versions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>cython3<span class="w"> </span>python3-numpy<span class="w"> </span>python3-scipy</span>
</pre></div></div><p>On Red Hat and clones (e.g. CentOS), install the dependencies using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo<span class="w"> </span>yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>gcc<span class="w"> </span>gcc-c++<span class="w"> </span>python3-devel<span class="w"> </span>numpy<span class="w"> </span>scipy</span>
</pre></div></div></section>
<section id="linux-compilers-from-conda-forge">
<h4>Linux compilers from conda-forge<a class="headerlink" href="#linux-compilers-from-conda-forge" title="Link to this heading">#</a></h4>
<p>Alternatively, install a recent version of the GNU C Compiler toolchain (GCC)
in the user folder using conda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>sklearn-dev<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>python<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>cython<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>joblib<span class="w"> </span>threadpoolctl<span class="w"> </span>pytest<span class="w"> </span>compilers</span>
</pre></div></div><p>It is not always necessary but it is safer to open a new prompt before
activating the newly created conda environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda<span class="w"> </span>activate<span class="w"> </span>sklearn-dev</span>
<span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>--no-use-pep517<span class="w"> </span>--no-build-isolation<span class="w"> </span>-e<span class="w"> </span>.</span>
</pre></div></div></section>
</section>
<section id="freebsd">
<span id="compiler-freebsd"></span><h3>FreeBSD<a class="headerlink" href="#freebsd" title="Link to this heading">#</a></h3>
<p>The clang compiler included in FreeBSD 12.0 and 11.2 base systems does not
include OpenMP support. You need to install the <code class="docutils literal notranslate"><span class="pre">openmp</span></code> library from packages
(or ports):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo<span class="w"> </span>pkg<span class="w"> </span>install<span class="w"> </span>openmp</span>
</pre></div></div><p>This will install header files in <code class="docutils literal notranslate"><span class="pre">/usr/local/include</span></code> and libs in
<code class="docutils literal notranslate"><span class="pre">/usr/local/lib</span></code>. Since these directories are not searched by default, you
can set the environment variables to these locations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$CFLAGS</span><span class="s2"> -I/usr/local/include&quot;</span></span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$CXXFLAGS</span><span class="s2"> -I/usr/local/include&quot;</span></span>
<span class="prompt1"><span class="nb">export</span><span class="w"> </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$LDFLAGS</span><span class="s2"> -Wl,-rpath,/usr/local/lib -L/usr/local/lib -lomp&quot;</span></span>
</pre></div></div><p>Finally, build the package using the standard command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>--no-use-pep517<span class="w"> </span>--no-build-isolation<span class="w"> </span>-e<span class="w"> </span>.</span>
</pre></div></div><p>For the upcoming FreeBSD 12.1 and 11.3 versions, OpenMP will be included in
the base system and these steps will not be necessary.</p>
</section>
</section>
<section id="alternative-compilers">
<h2>Alternative compilers<a class="headerlink" href="#alternative-compilers" title="Link to this heading">#</a></h2>
<p>The following command will build scikit-learn using your default C/C++ compiler.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">pip<span class="w"> </span>install<span class="w"> </span>--verbose<span class="w"> </span>--editable<span class="w"> </span>.</span>
</pre></div></div><p>If you want to build scikit-learn with another compiler handled by <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>,
use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>setup.py<span class="w"> </span>build_ext<span class="w"> </span>--compiler<span class="o">=</span>&lt;compiler&gt;<span class="w"> </span>-i<span class="w"> </span>build_clib<span class="w"> </span>--compiler<span class="o">=</span>&lt;compiler&gt;</span>
</pre></div></div><p>To see the list of available compilers run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python<span class="w"> </span>setup.py<span class="w"> </span>build_ext<span class="w"> </span>--help-compiler</span>
</pre></div></div><p>If your compiler is not listed here, you can specify it through some environment
variables (does not work on windows). This <a class="reference external" href="https://setuptools.pypa.io/en/stable/userguide/ext_modules.html#compiler-and-linker-options">section</a>
of the setuptools documentation explains in details which environment variables
are used by <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>, and at which stage of the compilation, to set the
compiler and linker options.</p>
<p>When setting these environment variables, it is advised to first check their
<code class="docutils literal notranslate"><span class="pre">sysconfig</span></code> counterparts variables and adapt them to your compiler. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sysconfig</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sysconfig</span><span class="o">.</span><span class="n">get_config_var</span><span class="p">(</span><span class="s1">&#39;CC&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sysconfig</span><span class="o">.</span><span class="n">get_config_var</span><span class="p">(</span><span class="s1">&#39;LDFLAGS&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>In addition, since Scikit-learn uses OpenMP, you need to include the appropriate OpenMP
flag of your compiler into the <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code> and <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code> environment variables.</p>
</section>
<section id="parallel-builds">
<h2>Parallel builds<a class="headerlink" href="#parallel-builds" title="Link to this heading">#</a></h2>
<p>It is possible to build scikit-learn compiled extensions in parallel by setting
and environment variable as follows before calling the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> or
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">build_ext</span></code> commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">SKLEARN_BUILD_PARALLEL</span><span class="o">=</span><span class="mi">3</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="n">pep517</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">isolation</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>On a machine with 2 CPU cores, it can be beneficial to use a parallelism level
of 3 to overlap IO bound tasks (reading and writing files on disk) with CPU
bound tasks (actually compiling).</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item">
<div class="prev-next-area">
    <a class="left-prev"
       href="cython.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Cython Best Practices, Conventions and Knowledge</p>
      </div>
    </a>
    <a class="right-next"
       href="bug_triaging.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Bug triaging and issue curation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>
                </footer>
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-nightly-builds">Installing nightly builds</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-from-source">Building from source</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies">Dependencies</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#runtime-dependencies">Runtime dependencies</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#build-dependencies">Build dependencies</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#test-dependencies">Test dependencies</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-a-specific-version-from-a-tag">Building a specific version from a tag</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#editable-mode">Editable mode</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-with-meson">Building with Meson</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#simplest-way-to-build-with-meson">Simplest way to build with Meson</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#more-advanced-way-to-build-with-meson">More advanced way to build with Meson</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-specific-instructions">Platform-specific instructions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#windows">Windows</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#macos">macOS</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#macos-compilers-from-conda-forge">macOS compilers from conda-forge</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#macos-compilers-from-homebrew">macOS compilers from Homebrew</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linux">Linux</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#linux-compilers-from-the-system">Linux compilers from the system</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#linux-compilers-from-conda-forge">Linux compilers from conda-forge</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#freebsd">FreeBSD</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alternative-compilers">Alternative compilers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parallel-builds">Parallel builds</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/developers/advanced_installation.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2007 - 2024, scikit-learn developers (BSD License).
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>